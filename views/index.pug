extends layout

block content
  h1 Books
  include search
    p
      a.button(href='/new') Create New Book
    table
      thead
        tr
          th Title
          th Author
          th Genre
          th Year
      tbody
        each book in books  
          tr
            td
              a(href=`/update/${book.id}`) #{book.title}
            td #{book.author}
            td #{book.genre}
            td #{book.year}
    div.pagination
      ul
        - for(let i = 1; i<=pages; i++)
          li
            if (url == `/search/${page}/`)
              if parseInt(page) == i
                a(href=`/search/${i}/?search=${search}` class="active")= i
              else
                a(href=`/search/${i}/?search=${search}` class="")= i
            else
              if parseInt(page) == i
                a(href=`/books/${i}` class="active")= i
              else
                a(href=`/books/${i}` class="")= i